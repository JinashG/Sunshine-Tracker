{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { LineChart } from \"react-native-chart-kit\";\nimport styles from \"./styles\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    data = _useState2[0],\n    setData = _useState2[1];\n  useEffect(function () {\n    fetch(\"http://127.0.0.1:8000/sunshine\").then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return setData(json.sunshine);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }, []);\n  var avg = data.length ? (data.reduce(function (a, b) {\n    return a + b.hours;\n  }, 0) / data.length).toFixed(1) : 0;\n  var max = data.length ? Math.max.apply(Math, _toConsumableArray(data.map(function (d) {\n    return d.hours;\n  }))) : 0;\n  var min = data.length ? Math.min.apply(Math, _toConsumableArray(data.map(function (d) {\n    return d.hours;\n  }))) : 0;\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Sunshine Duration\"\n    }), data.length > 0 ? _jsx(LineChart, {\n      data: {\n        labels: data.map(function (d) {\n          return d.date.slice(5);\n        }),\n        datasets: [{\n          data: data.map(function (d) {\n            return d.hours;\n          })\n        }]\n      },\n      width: Dimensions.get(\"window\").width - 32,\n      height: 220,\n      yAxisSuffix: \"h\",\n      chartConfig: {\n        backgroundColor: \"#fff\",\n        backgroundGradientFrom: \"#fff\",\n        backgroundGradientTo: \"#fff\",\n        decimalPlaces: 1,\n        color: function color() {\n          return \"#f59e0b\";\n        },\n        labelColor: function labelColor() {\n          return \"#64748B\";\n        }\n      },\n      bezier: true,\n      style: styles.chart\n    }) : _jsx(Text, {\n      children: \"Loading...\"\n    }), _jsxs(View, {\n      style: styles.insights,\n      children: [_jsxs(Text, {\n        style: styles.pill,\n        children: [\"Avg: \", avg, \"h\"]\n      }), _jsxs(Text, {\n        style: styles.pill,\n        children: [\"Max: \", max, \"h\"]\n      }), _jsxs(Text, {\n        style: styles.pill,\n        children: [\"Min: \", min, \"h\"]\n      })]\n    })]\n  });\n}","map":{"version":3,"names":["useEffect","useState","View","Text","Dimensions","ScrollView","LineChart","styles","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","data","setData","fetch","then","res","json","sunshine","catch","err","console","log","avg","length","reduce","a","b","hours","toFixed","max","Math","apply","_toConsumableArray","map","d","min","style","container","children","title","labels","date","slice","datasets","width","get","height","yAxisSuffix","chartConfig","backgroundColor","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","color","labelColor","bezier","chart","insights","pill"],"sources":["D:/Programming/Web projects/Sunshine-Tracker/mobile/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { View, Text, Dimensions, ScrollView } from \"react-native\";\nimport { LineChart } from \"react-native-chart-kit\";\nimport styles from \"./styles\";   \n\nexport default function App() {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    fetch(\"http://127.0.0.1:8000/sunshine\")   \n      .then((res) => res.json())\n      .then((json) => setData(json.sunshine))\n      .catch((err) => console.log(err));\n  }, []);\n\n  const avg = data.length ? (data.reduce((a, b) => a + b.hours, 0) / data.length).toFixed(1) : 0;\n  const max = data.length ? Math.max(...data.map((d) => d.hours)) : 0;\n  const min = data.length ? Math.min(...data.map((d) => d.hours)) : 0;\n\n  return (\n    <ScrollView style={styles.container}>\n      <Text style={styles.title}>Sunshine Duration</Text>\n\n      {data.length > 0 ? (\n        <LineChart\n          data={{\n            labels: data.map((d) => d.date.slice(5)),\n            datasets: [{ data: data.map((d) => d.hours) }],\n          }}\n          width={Dimensions.get(\"window\").width - 32}\n          height={220}\n          yAxisSuffix=\"h\"\n          chartConfig={{\n            backgroundColor: \"#fff\",\n            backgroundGradientFrom: \"#fff\",\n            backgroundGradientTo: \"#fff\",\n            decimalPlaces: 1,\n            color: () => `#f59e0b`,\n            labelColor: () => \"#64748B\",\n          }}\n          bezier\n          style={styles.chart}\n        />\n      ) : (\n        <Text>Loading...</Text>\n      )}\n\n      <View style={styles.insights}>\n        <Text style={styles.pill}>Avg: {avg}h</Text>\n        <Text style={styles.pill}>Max: {max}h</Text>\n        <Text style={styles.pill}>Min: {min}h</Text>\n      </View>\n    </ScrollView>\n  );\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,UAAA;AAE5C,SAASC,SAAS,QAAQ,wBAAwB;AAClD,OAAOC,MAAM;AAAiB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE9B,eAAe,SAASC,GAAGA,CAAA,EAAG;EAC5B,IAAAC,SAAA,GAAwBZ,QAAQ,CAAC,EAAE,CAAC;IAAAa,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA7BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpBd,SAAS,CAAC,YAAM;IACdkB,KAAK,CAAC,gCAAgC,CAAC,CACpCC,IAAI,CAAC,UAACC,GAAG;MAAA,OAAKA,GAAG,CAACC,IAAI,CAAC,CAAC;IAAA,EAAC,CACzBF,IAAI,CAAC,UAACE,IAAI;MAAA,OAAKJ,OAAO,CAACI,IAAI,CAACC,QAAQ,CAAC;IAAA,EAAC,CACtCC,KAAK,CAAC,UAACC,GAAG;MAAA,OAAKC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAAA,EAAC;EACrC,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMG,GAAG,GAAGX,IAAI,CAACY,MAAM,GAAG,CAACZ,IAAI,CAACa,MAAM,CAAC,UAACC,CAAC,EAAEC,CAAC;IAAA,OAAKD,CAAC,GAAGC,CAAC,CAACC,KAAK;EAAA,GAAE,CAAC,CAAC,GAAGhB,IAAI,CAACY,MAAM,EAAEK,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;EAC9F,IAAMC,GAAG,GAAGlB,IAAI,CAACY,MAAM,GAAGO,IAAI,CAACD,GAAG,CAAAE,KAAA,CAARD,IAAI,EAAAE,kBAAA,CAAQrB,IAAI,CAACsB,GAAG,CAAC,UAACC,CAAC;IAAA,OAAKA,CAAC,CAACP,KAAK;EAAA,EAAC,EAAC,GAAG,CAAC;EACnE,IAAMQ,GAAG,GAAGxB,IAAI,CAACY,MAAM,GAAGO,IAAI,CAACK,GAAG,CAAAJ,KAAA,CAARD,IAAI,EAAAE,kBAAA,CAAQrB,IAAI,CAACsB,GAAG,CAAC,UAACC,CAAC;IAAA,OAAKA,CAAC,CAACP,KAAK;EAAA,EAAC,EAAC,GAAG,CAAC;EAEnE,OACErB,KAAA,CAACN,UAAU;IAACoC,KAAK,EAAElC,MAAM,CAACmC,SAAU;IAAAC,QAAA,GAClClC,IAAA,CAACN,IAAI;MAACsC,KAAK,EAAElC,MAAM,CAACqC,KAAM;MAAAD,QAAA,EAAC;IAAiB,CAAM,CAAC,EAElD3B,IAAI,CAACY,MAAM,GAAG,CAAC,GACdnB,IAAA,CAACH,SAAS;MACRU,IAAI,EAAE;QACJ6B,MAAM,EAAE7B,IAAI,CAACsB,GAAG,CAAC,UAACC,CAAC;UAAA,OAAKA,CAAC,CAACO,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC;QAAA,EAAC;QACxCC,QAAQ,EAAE,CAAC;UAAEhC,IAAI,EAAEA,IAAI,CAACsB,GAAG,CAAC,UAACC,CAAC;YAAA,OAAKA,CAAC,CAACP,KAAK;UAAA;QAAE,CAAC;MAC/C,CAAE;MACFiB,KAAK,EAAE7C,UAAU,CAAC8C,GAAG,CAAC,QAAQ,CAAC,CAACD,KAAK,GAAG,EAAG;MAC3CE,MAAM,EAAE,GAAI;MACZC,WAAW,EAAC,GAAG;MACfC,WAAW,EAAE;QACXC,eAAe,EAAE,MAAM;QACvBC,sBAAsB,EAAE,MAAM;QAC9BC,oBAAoB,EAAE,MAAM;QAC5BC,aAAa,EAAE,CAAC;QAChBC,KAAK,EAAE,SAAPA,KAAKA,CAAA;UAAA;QAAA,CAAiB;QACtBC,UAAU,EAAE,SAAZA,UAAUA,CAAA;UAAA,OAAQ,SAAS;QAAA;MAC7B,CAAE;MACFC,MAAM;MACNnB,KAAK,EAAElC,MAAM,CAACsD;IAAM,CACrB,CAAC,GAEFpD,IAAA,CAACN,IAAI;MAAAwC,QAAA,EAAC;IAAU,CAAM,CACvB,EAEDhC,KAAA,CAACT,IAAI;MAACuC,KAAK,EAAElC,MAAM,CAACuD,QAAS;MAAAnB,QAAA,GAC3BhC,KAAA,CAACR,IAAI;QAACsC,KAAK,EAAElC,MAAM,CAACwD,IAAK;QAAApB,QAAA,GAAC,OAAK,EAAChB,GAAG,EAAC,GAAC;MAAA,CAAM,CAAC,EAC5ChB,KAAA,CAACR,IAAI;QAACsC,KAAK,EAAElC,MAAM,CAACwD,IAAK;QAAApB,QAAA,GAAC,OAAK,EAACT,GAAG,EAAC,GAAC;MAAA,CAAM,CAAC,EAC5CvB,KAAA,CAACR,IAAI;QAACsC,KAAK,EAAElC,MAAM,CAACwD,IAAK;QAAApB,QAAA,GAAC,OAAK,EAACH,GAAG,EAAC,GAAC;MAAA,CAAM,CAAC;IAAA,CACxC,CAAC;EAAA,CACG,CAAC;AAEjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}